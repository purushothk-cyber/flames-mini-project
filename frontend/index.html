<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mini Projects âš¡</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
    --neon-pink: #ff2fdc;
    --neon-blue: #00e5ff;
    --neon-green: #69f0ae;
}

body {
    margin: 0;
    height: 100vh;
    background: radial-gradient(circle at top, #0f2027, #000);
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: "Poppins", Arial, sans-serif;
    overflow: hidden;
    color: white;
    transition: background 1s ease;
}

/* Floating particles */
.particle {
    position: absolute;
    font-size: 20px;
    animation: float 6s linear forwards;
    pointer-events: none;
}

@keyframes float {
    from {
        transform: translateY(100vh) rotate(0deg);
        opacity: 1;
    }
    to {
        transform: translateY(-120vh) rotate(360deg);
        opacity: 0;
    }
}

/* Card */
.card {
    background: rgba(10, 10, 20, 0.85);
    padding: 30px;
    width: 92%;
    max-width: 380px;
    border-radius: 20px;
    text-align: center;
    box-shadow:
        0 0 25px rgba(0, 229, 255, 0.3),
        inset 0 0 20px rgba(255, 47, 220, 0.15);
    backdrop-filter: blur(8px);
    animation: appear 1s ease;
}

@keyframes appear {
    from { opacity: 0; transform: translateY(50px); }
    to { opacity: 1; transform: translateY(0); }
}

h2 {
    margin-bottom: 20px;
    letter-spacing: 1px;
    text-shadow: 0 0 15px var(--neon-blue);
}

input {
    width: 100%;
    padding: 13px;
    margin: 10px 0;
    border-radius: 8px;
    border: none;
    font-size: 15px;
    outline: none;
}

/* Buttons */
button {
    width: 100%;
    padding: 14px;
    margin-top: 12px;
    border-radius: 10px;
    border: none;
    font-size: 16px;
    color: white;
    cursor: pointer;
    background: linear-gradient(45deg, var(--neon-pink), #ff1744);
    box-shadow: 0 0 15px var(--neon-pink);
    transition: transform 0.2s, box-shadow 0.2s;
}

button:hover {
    transform: scale(1.06);
    box-shadow: 0 0 30px var(--neon-pink);
}

/* Result */
#result {
    margin-top: 22px;
    font-size: 22px;
    font-weight: bold;
    text-shadow: 0 0 20px currentColor;
    animation: pop 0.6s ease;
}

@keyframes pop {
    0% { transform: scale(0.5); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

.back {
    background: linear-gradient(45deg, #00e5ff, #2979ff);
    box-shadow: 0 0 15px var(--neon-blue);
}
</style>
</head>

<body>

<div class="card" id="app"></div>

<script>
const app = document.getElementById("app");

/* ---------- PARTICLE EFFECT ---------- */
function spawnParticles(emojis, count = 35) {
    for (let i = 0; i < count; i++) {
        const span = document.createElement("span");
        span.className = "particle";
        span.innerText = emojis[Math.floor(Math.random() * emojis.length)];
        span.style.left = Math.random() * 100 + "vw";
        span.style.fontSize = (16 + Math.random() * 18) + "px";
        span.style.animationDuration = (4 + Math.random() * 3) + "s";
        document.body.appendChild(span);
        setTimeout(() => span.remove(), 7000);
    }
}

/* ---------- HOME ---------- */
function showHome() {
    document.body.style.background = "radial-gradient(circle at top, #0f2027, #000)";
    app.innerHTML = `
        <h2>âš¡ Mini Projects Hub</h2>
        <button onclick="showFlames()">ğŸ”¥ FLAMES</button>
        <button onclick="showGuess()">ğŸ¯ Guessing Game</button>
    `;
}

/* ---------- FLAMES ---------- */
function showFlames() {
    app.innerHTML = `
        <h2>ğŸ”¥ FLAMES Calculator</h2>
        <input id="name1" placeholder="First Name ğŸ’–">
        <input id="name2" placeholder="Second Name ğŸ’–">
        <button onclick="calculateFlames()">Analyze ğŸ’˜</button>
        <div id="result"></div>
        <button class="back" onclick="showHome()">â¬… Back</button>
    `;
}

async function calculateFlames() {
    const n1 = name1.value.trim();
    const n2 = name2.value.trim();
    const resultDiv = document.getElementById("result");

    if (!n1 || !n2) {
        resultDiv.innerText = "âš  Enter both names";
        return;
    }

    const res = await fetch("http://localhost:3000/flames", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ name1: n1, name2: n2 })
    });

    const data = await res.json();
    const result = data.result;

    let emojis = ["ğŸ’–"];
    let bg = "#000";
    let color = "#fff";

    switch (result) {
        case "Friends":
            emojis = ["ğŸ¤","ğŸ˜„","ğŸ®"];
            bg = "radial-gradient(circle, #2193b0, #000)";
            color = "#00e5ff";
            break;
        case "Lovers":
            emojis = ["â¤ï¸","ğŸ’‹","ğŸ’‘","ğŸ’˜"];
            bg = "radial-gradient(circle, #ff0844, #000)";
            color = "hotpink";
            break;
        case "Affection":
            emojis = ["ğŸ¥°","ğŸ˜","ğŸ’"];
            bg = "radial-gradient(circle, #f7971e, #000)";
            color = "#ffd54f";
            break;
        case "Marriage":
            emojis = ["ğŸ’","ğŸ‘°","ğŸ¤µ"];
            bg = "radial-gradient(circle, #7f00ff, #000)";
            color = "#e040fb";
            break;
        case "Enemies":
            emojis = ["ğŸ˜ˆ","ğŸ’¥","âš”ï¸"];
            bg = "radial-gradient(circle, #232526, #000)";
            color = "#ff5252";
            break;
        case "Siblings":
            emojis = ["ğŸ‘«","ğŸ˜‚","ğŸ’š"];
            bg = "radial-gradient(circle, #56ab2f, #000)";
            color = "#69f0ae";
            break;
    }

    document.body.style.background = bg;
    spawnParticles(emojis, 45);

    resultDiv.style.color = color;
    resultDiv.innerText = `${emojis[0]} ${result} ${emojis[0]}`;
}

/* ---------- GUESSING GAME ---------- */
function showGuess() {
    app.innerHTML = `
        <h2>ğŸ¯ Guessing Game</h2>
        <button onclick="startGame()">Start Game</button>
        <input id="guess" type="number" placeholder="Guess (1â€“10)">
        <button onclick="tryGuess()">Guess</button>
        <div id="result"></div>
        <button class="back" onclick="showHome()">â¬… Back</button>
    `;
}

async function startGame() {
    const res = await fetch("http://localhost:3000/guess/start");
    const data = await res.json();
    result.innerText = data.message;
}

async function tryGuess() {
    const res = await fetch("http://localhost:3000/guess/try", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ guess: guess.value })
    });
    const data = await res.json();

    spawnParticles(["âš¡","ğŸ’»","ğŸ¯","ğŸ”¥"], 25);
    result.innerText = data.message;
}

showHome();
</script>

</body>
</html>
